<div
  id="{{node.id}}"
  ng-attr-style="position: absolute; top: {{ node.y }}px; left: {{ node.x }}px;"
  ng-dblclick="callbacks.doubleClick(node)">

  <div class="progressBar innerNode" ng-attr-style="background-color: rgba({{ node.rgbProgress }},0.25); display: {{ node.disProgress }};">
    <div ng-attr-style="background-color: rgba({{ node.rgbProgress }},1.0); width: {{ node.pctProgress }}%;"></div>
  </div>

  <div class="innerNode" ng-hide="node.type == 'source' || node.type == 'sink'">
    <p style="background-image: url('/images/nodes-icons/{{ node.type }}.png')">{{ node.name }}</p>

    <div class="{{flowchartConstants.topConnectorClass}}">
      <div fc-magnet
           ng-repeat="connector in modelservice.nodes.getConnectorsByType(node, flowchartConstants.topConnectorType)"
           ng-hide="connector.broadcast == true">
        <div fc-connector></div>
      </div>
    </div>

    <div class="broadcast-connectors">
      <div class="single-connector" fc-magnet
           ng-repeat="connector in modelservice.nodes.getConnectorsByType(node, flowchartConstants.topConnectorType)" ng-if="connector.broadcast == true">
        <div fc-connector></div>
      </div>      
    </div>
    
    <div class="{{flowchartConstants.bottomConnectorClass}}">
      <div fc-magnet
           ng-repeat="connector in modelservice.nodes.getConnectorsByType(node, flowchartConstants.bottomConnectorType)">
        <div fc-connector></div>
      </div>
    </div>

  </div>

  <div class="innerNode source" ng-if="node.type == 'source'">
    <p>{{ node.name }}</p>
    <img  ng-src="/images/nodes-icons/{{ node.type }}.png">
    
    <div class="{{flowchartConstants.topConnectorClass}}">
      <div fc-magnet
           ng-repeat="connector in modelservice.nodes.getConnectorsByType(node, flowchartConstants.topConnectorType)"
           ng-hide="connector.broadcast == true">
        <div fc-connector></div>
      </div>
    </div>

    <div class="broadcast-connectors">
      <div class="single-connector" fc-magnet
           ng-repeat="connector in modelservice.nodes.getConnectorsByType(node, flowchartConstants.topConnectorType)" ng-if="connector.broadcast == true">
        <div fc-connector></div>
      </div>      
    </div>
    
    <div class="{{flowchartConstants.bottomConnectorClass}}">
      <div fc-magnet
           ng-repeat="connector in modelservice.nodes.getConnectorsByType(node, flowchartConstants.bottomConnectorType)">
        <div fc-connector></div>
      </div>
    </div>
  </div>

  <div class="innerNode sink" ng-if="node.type == 'sink'">
    <img  ng-src="/images/nodes-icons/{{ node.type }}.png">
    <p>{{ node.name }}</p>

    <div class="{{flowchartConstants.topConnectorClass}}">
      <div fc-magnet
           ng-repeat="connector in modelservice.nodes.getConnectorsByType(node, flowchartConstants.topConnectorType)"
           ng-hide="connector.broadcast == true">
        <div fc-connector></div>
      </div>
    </div>

    <div class="broadcast-connectors">
      <div class="single-connector" fc-magnet
           ng-repeat="connector in modelservice.nodes.getConnectorsByType(node, flowchartConstants.topConnectorType)" ng-if="connector.broadcast == true">
        <div fc-connector></div>
      </div>      
    </div>
    
    <div class="{{flowchartConstants.bottomConnectorClass}}">
      <div fc-magnet
           ng-repeat="connector in modelservice.nodes.getConnectorsByType(node, flowchartConstants.bottomConnectorType)">
        <div fc-connector></div>
      </div>
    </div>
  </div>

  <div class="fc-nodedelete" ng-click="modelservice.nodes.delete(node)"><i class="fa fa-times" aria-hidden="true"></i></div>
</div>
